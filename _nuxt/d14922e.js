(window.webpackJsonp=window.webpackJsonp||[]).push([[9,10],{577:function(t,e,n){var content=n(595);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(20).default)("12d4139a",content,!0,{sourceMap:!1})},589:function(t,e,n){"use strict";n.r(e);var r={data:function(){return{}},props:["content"],mounted:function(){this.$emit("ready")}},o=n(63),component=Object(o.a)(r,(function(){var t=this;return(0,t._self._c)("div",[t._v(t._s(t.content))])}),[],!1,null,null,null);e.default=component.exports},592:function(t,e,n){const{applyDithering:r}=n(593);function o(t){let e=!0;for(i=0;i<t.length;i++)if(0!=t[i]){e=!1;break}return total_val=e?4:(t[0]|0)+(t[1]<<1)+(t[2]<<2)+(t[4]<<3)+(t[5]<<4)+(t[6]<<5)+(t[3]<<6)+(t[7]<<7),String.fromCharCode(10240+total_val)}t.exports={braillefy:function(t="",e=30,n={}){let l="";return n.colors||(n.colors={red:1,green:1,blue:1}),new Promise(((c,d)=>{const canvas=document.createElement("canvas"),img=new Image;img.crossOrigin="Anonymous",img.onload=()=>{let t=img.width,d=img.height;img.width!=2*e&&(t=2*e,d=t*img.height/img.width),canvas.width=t-t%2,canvas.height=d-d%4,ctx=canvas.getContext("2d"),ctx.fillStyle="#FFFFFF",ctx.fillRect(0,0,canvas.width,canvas.height),ctx.mozImageSmoothingEnabled=!1,ctx.webkitImageSmoothingEnabled=!1,ctx.msImageSmoothingEnabled=!1,ctx.imageSmoothingEnabled=!1,ctx.drawImage(img,0,0,canvas.width,canvas.height),n.dither&&r(canvas);for(let t=0;t<canvas.height;t+=4){for(let e=0;e<canvas.width;e+=2){const r=[0,0,0,0,0,0,0,0];let c=0;for(let o=0;o<2;o++)for(let l=0;l<4;l++){const d=ctx.getImageData(e+o,t+l,1,1).data,h=(d[0]/n.colors.red+d[1]/n.colors.green+d[2]/n.colors.blue)/3;n.invert?h<128&&(r[c]=1):h>128&&(r[c]=1),c++}l+=o(r)}l+=n.lineSeparator||"\n"}return c(l)},img.onerror=t=>d(t),img.src=t}))}}},593:function(t,e){let n;function r(t){return t<0?0:t>255?255:t}function o(t,e,r){const o=4*(t+e*n.width);n.data[o+0]=parseInt(r[0]+.5),n.data[o+1]=parseInt(r[1]+.5),n.data[o+2]=parseInt(r[2]+.5),n.data[o+3]=255}function l(t,e,o,l,c){const d=4*(t+e*n.width);n.data[d+0]=r(n.data[d+0]+o),n.data[d+1]=r(n.data[d+1]+l),n.data[d+2]=r(n.data[d+2]+c),n.data[d+3]=255}function c(t,e){const r=4*(t+e*n.width);return[n.data[r+0],n.data[r+1],n.data[r+2]]}t.exports={applyDithering:function(canvas){let t,e,r,d,h,f;n=ctx.getImageData(0,0,canvas.width,canvas.height);for(let n=0;n<canvas.height;n++)for(let v=0;v<canvas.width;v++)t=c(v,n),e=.2126*(x=t)[0]+.7152*x[1]+.0722*x[2]>128?[255,255,255]:[0,0,0],o(v,n,e),w=e,r=[(m=t)[0]-w[0],m[1]-w[1],m[2]-w[2]],d=r[0],h=r[1],f=r[2],v+1<canvas.width&&l(v+1,n,7/16*d,7/16*h,7/16*f),v-1>0&&n+1<canvas.height&&l(v-1,n+1,3/16*d,3/16*h,3/16*f),n+1<canvas.height&&l(v,n+1,5/16*d,5/16*h,5/16*f),v+1<canvas.width&&l(v+1,n+1,1/16*d,1/16*h,1/16*f);var m,w,x;ctx.putImageData(n,0,0)}}},594:function(t,e,n){"use strict";n(577)},595:function(t,e,n){var r=n(19)((function(i){return i[1]}));r.push([t.i,".portrait-line{display:inline}.braillePortrait{font-size:1em;margin:3px;width:auto}",""]),r.locals={},t.exports=r},615:function(t,e,n){"use strict";n.r(e);var r=n(148),o=n(23),line=(n(80),n(589)),l=n(592).braillefy,c={data:function(){return{portrait:null,lines:0}},props:["image","ratio","align"],mounted:function(){this.handleResize()},components:{TextLine:line.default},methods:{addLine:function(){var t=this;this.portrait&&(this.lines++,this.lines>=this.portrait.length&&this.$nextTick((function(){t.$emit("ready")})))},handleResize:function(){var t=this.$refs.brailleImage,e=document.createElement("canvas").getContext("2d").measureText("0").width,n=t.offsetWidth/e*this.ratio;this.convert(this.image,n,{dither:!1,invert:!1})},convert:function(t,e,n){var r=this;return Object(o.a)(regeneratorRuntime.mark((function o(){var c;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,l(t,e,n);case 2:c=o.sent,r.portrait=c.split("\n");case 4:case"end":return o.stop()}}),o)})))()}}},d=(n(594),n(63)),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("div",{directives:[{def:r.a,name:"resize",rawName:"v-resize",value:t.handleResize,expression:"handleResize"}]},[e("div",{ref:"brailleImage"},[t.portrait?e("div",{staticClass:"d-flex flex-column mb-6",class:{"align-center":"center"===t.align}},t._l(t.portrait,(function(line,n){return e("text-line",{key:"portrait-line-".concat(n),staticClass:"portrait-line about-page-animation ma-0 pa-0",attrs:{content:line},on:{ready:function(e){return t.addLine()}}})})),1):t._e()])])}),[],!1,null,null,null);e.default=component.exports}}]);